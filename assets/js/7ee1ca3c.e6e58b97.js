"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[96113],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return u}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},k={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),g=c(n),u=a,m=g["".concat(p,".").concat(u)]||g[u]||k[u]||i;return n?r.createElement(m,o(o({ref:t},s),{},{components:n})):r.createElement(m,o({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},72534:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return s},default:function(){return g}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),o=["components"],l={title:"Interface error troubleshooting",sidebar_position:3},p=void 0,c={unversionedId:"tuning-and-troubleshooting/error-guide/interface",id:"version-1.2.0/tuning-and-troubleshooting/error-guide/interface",isDocsHomePage:!1,title:"Interface error troubleshooting",description:"How to quickly locate interfaces and query logs for interface errors",source:"@site/versioned_docs/version-1.2.0/tuning-and-troubleshooting/error-guide/interface.md",sourceDirName:"tuning-and-troubleshooting/error-guide",slug:"/tuning-and-troubleshooting/error-guide/interface",permalink:"/docs/latest/tuning-and-troubleshooting/error-guide/interface",editUrl:"https://github.com/apache/incubator-linkis-website/edit/dev/versioned_docs/version-1.2.0/tuning-and-troubleshooting/error-guide/interface.md",tags:[],version:"1.2.0",sidebarPosition:3,frontMatter:{title:"Interface error troubleshooting",sidebar_position:3},sidebar:"version-1.2.0/tutorialSidebar",previous:{title:"Error Code",permalink:"/docs/latest/tuning-and-troubleshooting/error-guide/error-code"}},s=[{value:"How to locate",id:"how-to-locate",children:[{value:"1.Front end F12 interface error",id:"1front-end-f12-interface-error",children:[]},{value:"2. App name found",id:"2-app-name-found",children:[]},{value:"3. Find log path",id:"3-find-log-path",children:[]},{value:"4. view log",id:"4-view-log",children:[]},{value:"5.Exception location",id:"5exception-location",children:[]}]}],k={toc:s};function g(e){var t=e.components,l=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},k,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"How to quickly locate interfaces and query logs for interface errors"),(0,i.kt)("h2",{id:"how-to-locate"},"How to locate"),(0,i.kt)("h3",{id:"1front-end-f12-interface-error"},"1.Front end F12 interface error"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Error information troubleshooting"),"\n",(0,i.kt)("img",{src:n(74277).Z}),"\nIf an error message is found, press f12--network-- filter the request information fetch/xhr-- check the single request --priview-- locate the error reporting request"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Find URL"),"\n",(0,i.kt)("img",{src:n(56141).Z}),"\nClick the headers of a single request, and you will see general. Here you will see the request address:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Request URL \uff1aXXXXX /api/rest_j/v1/data-source-manager/op/connect/json")),(0,i.kt)("h3",{id:"2-app-name-found"},"2. App name found"),(0,i.kt)("p",null,"When an interface request reports an error, the URL specification locates the application name.\nThe linkis interface URL follows the design specification:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"/api/rest_j/v1/{applicationName}/.")),(0,i.kt)("p",null,"ApplicationName is the application name. Find the microservice to which you belong through the application name, and view the log under the corresponding microservice."),(0,i.kt)("h4",{id:"correspondence-between-application-name-and-microservice"},"Correspondence between application name and microservice"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"ApplicationName"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Microservice"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"linkismanager"),(0,i.kt)("td",{parentName:"tr",align:"center"},"cg-linkismanager")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"engineplugin"),(0,i.kt)("td",{parentName:"tr",align:"center"},"cg-engineplugin")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"cg-engineconnmanager"),(0,i.kt)("td",{parentName:"tr",align:"center"},"cg-engineconnmanager")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"entrance"),(0,i.kt)("td",{parentName:"tr",align:"center"},"cg-entrance")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"bml"),(0,i.kt)("td",{parentName:"tr",align:"center"},"ps-bml")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"contextservice"),(0,i.kt)("td",{parentName:"tr",align:"center"},"ps-cs")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"datasource"),(0,i.kt)("td",{parentName:"tr",align:"center"},"ps-datasource")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"configuration"),(0,i.kt)("td",{parentName:"tr",align:"center"})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"microservice"),(0,i.kt)("td",{parentName:"tr",align:"center"})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"jobhistory"),(0,i.kt)("td",{parentName:"tr",align:"center"},"ps-publicservice")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"variable"),(0,i.kt)("td",{parentName:"tr",align:"center"})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"udf"),(0,i.kt)("td",{parentName:"tr",align:"center"})))),(0,i.kt)("h3",{id:"3-find-log-path"},"3. Find log path"),(0,i.kt)("p",null,"The user service address is different. We need to locate the log address first"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"ps -ef | grep  ps-datasource")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(47338).Z})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"cg-linkismanager\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-linkismanager-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-linkismanager.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-linkismanager.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"cg-engineplugin\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-engineplugin-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-engineplugin.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-engineplugin.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"cg-engineconnmanager\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-engineconnmanager-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-engineconnmanager.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-engineconnmanager.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"cg-entrance\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-entrance-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-entrance.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-cg-entrance.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"ps-bml\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-bml-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-bml.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-bml.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"ps-cs\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-cs-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-cs.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-cs.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"ps-datasource\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-datasource-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-datasource.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-datasource.out")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"ps-publicservice\uff1a"),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"GC log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-publicservice-gc.log")),(0,i.kt)("p",{parentName:"blockquote"},"Service log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-publicservice.log")),(0,i.kt)("p",{parentName:"blockquote"},"System out log\uff1a",(0,i.kt)("inlineCode",{parentName:"p"}," /${LINKIS_HOME}/logs/linkis/linkis-ps-publicservice.out"))))),(0,i.kt)("h3",{id:"4-view-log"},"4. view log"),(0,i.kt)("p",null,"Display the error message corresponding to the interface"),(0,i.kt)("p",null,"Find the request log, in which other services called by the service are displayed, or the logical logs processed in their own services are displayed"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"tail -fn200 linkis-ps-data-source-manager.log")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(82344).Z})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"The above figure shows the logs of service calling other services. You can query the logs of other services based on this information")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"The following figure shows the service logs that actually report errors")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"tail -fn200 linkis-ps-metadataquery.log")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(55050).Z})),(0,i.kt)("p",null,"Front end error reporting display"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(74277).Z})),(0,i.kt)("h3",{id:"5exception-location"},"5.Exception location"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'ECMResourceClear failed, ecm current resource:bdpuje\ns110003:9102{"instance":0,"memory":"0.0 B","cpu":0} org.apache.linkis.manager.exception.PersistenceErrorException: errCode: 210001 ,desc: label not found, this label may be removed a\nlready. , ip: bdpujes110003 ,port: 9101 ,serviceKind: linkis-cg-linkismanager')),(0,i.kt)("p",null,"Where IP and port are the corresponding service addresses, and servicekind is the corresponding service name. If the RPC call log fails, you can use this information to find the corresponding service"))}g.isMDXComponent=!0},82344:function(e,t,n){t.Z=n.p+"assets/images/datasourcemanager-6c67b0e0cf0848327577a0c05f8e4747.png"},74277:function(e,t,n){t.Z=n.p+"assets/images/errorMsg-88d1f6cc5014a71c29b3b82b37488145.png"},55050:function(e,t,n){t.Z=n.p+"assets/images/errorMsgFromMeta-f6d29bacd8e9e014f069ac53600ec35e.png"},56141:function(e,t,n){t.Z=n.p+"assets/images/findUrl-f95a232e17346ffde45cab3be9b66921.png"},47338:function(e,t,n){t.Z=n.p+"assets/images/logs-1dc64535371b2f8171457d30629f9d69.png"}}]);